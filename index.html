<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Be My Valentine?</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Dancing+Script:wght@700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* --- RESET & BASICS --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            overflow: hidden; 
            font-family: 'Poppins', sans-serif; 
            height: 100vh;
            width: 100vw;
        }

        /* --- BACKGROUNDS --- */
        #background {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(120deg, #ff9a9e, #fad0c4, #ffb6c1, #c71585);
            background-size: 300% 300%;
            animation: gradientMove 8s ease infinite;
            z-index: -2;
            transition: filter 1s ease;
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- THE PURPLE CARD (Main Container) --- */
        #main-card {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 380px;
            height: 550px;
            background: linear-gradient(to bottom right, #a56cc1, #8e44ad);
            border-radius: 40px;
            box-shadow: 
                0 20px 50px rgba(0,0,0,0.3),
                inset 0 0 0 5px rgba(255,255,255,0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            transition: all 1s cubic-bezier(0.19, 1, 0.22, 1);
            z-index: 10;
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            color: white;
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            z-index: 20;
        }

        /* --- 3D CSS BEAR --- */
        .bear-wrapper {
            position: relative;
            width: 180px;
            height: 220px;
            margin-bottom: 20px;
            transition: transform 0.3s ease;
        }

        /* Fur Gradient for 3D effect */
        .fur-color { background: radial-gradient(circle at 35% 35%, #8d5524, #5d3615); }
        .fur-light { background: #dcb388; }

        .ear {
            position: absolute;
            top: 0;
            width: 50px; height: 50px;
            border-radius: 50%;
            box-shadow: inset -5px -5px 10px rgba(0,0,0,0.3);
            z-index: 1;
        }
        .ear.left { left: 10px; }
        .ear.right { right: 10px; }
        .inner-ear {
            position: absolute;
            top: 10px; left: 10px;
            width: 30px; height: 30px;
            background: #4a2c11;
            border-radius: 50%;
            opacity: 0.6;
        }

        .head {
            position: absolute;
            top: 20px; left: 15px;
            width: 150px; height: 130px;
            border-radius: 50% 50% 45% 45%;
            z-index: 5;
            box-shadow: inset -10px -10px 20px rgba(0,0,0,0.4);
        }

        .eye {
            position: absolute;
            top: 45px;
            width: 16px; height: 16px;
            background: #222;
            border-radius: 50%;
            animation: blink 4s infinite;
        }
        .eye::after {
            content: ''; position: absolute; top: 3px; left: 3px;
            width: 6px; height: 6px; background: white; border-radius: 50%;
        }
        .eye.left { left: 40px; }
        .eye.right { right: 40px; }

        .muzzle {
            position: absolute;
            top: 65px; left: 45px;
            width: 60px; height: 45px;
            background: #dcb388;
            border-radius: 50%;
        }
        .nose {
            position: absolute;
            top: 10px; left: 20px;
            width: 20px; height: 14px;
            background: #3e2723;
            border-radius: 40%;
        }
        .mouth {
            position: absolute;
            top: 28px; left: 22px;
            width: 16px; height: 5px;
            border-bottom: 3px solid #3e2723;
            border-radius: 50%;
        }

        .blush {
            position: absolute;
            top: 75px;
            width: 20px; height: 15px;
            background: #ffb6c1;
            border-radius: 50%;
            opacity: 0.5;
            filter: blur(2px);
        }
        .blush.left { left: 25px; }
        .blush.right { right: 105px; }

        .body {
            position: absolute;
            top: 110px; left: 30px;
            width: 120px; height: 100px;
            border-radius: 45% 45% 50% 50%;
            z-index: 4;
            box-shadow: inset -10px -10px 20px rgba(0,0,0,0.3);
        }

        .paw {
            position: absolute;
            width: 40px; height: 40px;
            border-radius: 50%;
            z-index: 6;
            box-shadow: inset -3px -3px 5px rgba(0,0,0,0.3);
        }
        .paw.hand { top: 120px; }
        .paw.hand.left { left: 10px; }
        .paw.hand.right { right: 10px; }
        
        .paw.foot { bottom: 0; width: 45px; height: 50px; z-index: 4; }
        .paw.foot.left { left: 30px; }
        .paw.foot.right { right: 30px; }
        .paw-pad {
            position: absolute;
            top: 10px; left: 10px;
            width: 25px; height: 25px;
            background: #dcb388;
            border-radius: 50%;
            opacity: 0.8;
        }

        /* Tear Animation for "No" */
        .tear {
            position: absolute;
            top: 60px; left: 45px;
            width: 8px; height: 8px;
            background: #89cff0;
            border-radius: 50% 0 50% 50%;
            transform: rotate(45deg);
            opacity: 0;
            z-index: 10;
        }
        .crying .tear {
            animation: cry 1.5s infinite;
        }
        @keyframes cry {
            0% { top: 60px; opacity: 1; }
            100% { top: 100px; opacity: 0; }
        }

        @keyframes blink { 0%, 96%, 100% {transform: scaleY(1);} 98% {transform: scaleY(0.1);} }

        /* --- 3D HEART --- */
        .heart-container {
            position: absolute;
            top: 120px; left: 50%;
            transform: translateX(-50%);
            width: 80px; height: 80px;
            z-index: 7;
            transition: transform 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .heart-svg {
            width: 100%; height: 100%;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.4));
        }

        .heart-piece {
            transition: transform 0.5s ease;
            transform-origin: center bottom;
        }

        .ribbon {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 25px; height: 25px;
            z-index: 8;
        }

        /* --- BUTTONS --- */
        .btn-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
            z-index: 20;
        }

        button {
            padding: 12px 35px;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            font-family: 'Poppins', sans-serif;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .btn-yes {
            background-color: #2ecc71;
            color: white;
        }
        .btn-yes:hover { background-color: #27ae60; transform: scale(1.05); }

        .btn-no {
            background-color: #e74c3c;
            color: white;
        }
        /* No hover effect on No button as we handle logic manually */

        /* --- LETTER CARD --- */
        #letter-view {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            justify-content: center;
            align-items: center;
            z-index: 100;
            perspective: 1000px;
        }

        .letter-paper {
            width: 0; height: 0; /* Animated */
            background: #fffafa;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            position: relative;
            padding: 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow: hidden;
            transition: width 1s ease, height 1s ease;
        }

        .letter-border {
            position: absolute;
            top: 15px; left: 15px; right: 15px; bottom: 15px;
            border: 2px dashed #ffb6c1;
            border-radius: 10px;
            pointer-events: none;
        }

        .letter-content {
            opacity: 0;
            transform: translateY(20px);
            transition: all 1s ease 1s;
            text-align: center;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .letter-content h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 2.2rem;
            color: #d63384;
            margin-bottom: 15px;
        }

        .letter-content p {
            color: #555;
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .details-box {
            background: #fff0f5;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            color: #c71585;
            font-size: 0.95rem;
        }

        /* --- PARTICLES --- */
        .broken-heart-rain {
            position: fixed;
            top: -50px;
            font-size: 24px;
            animation: rain 3s linear forwards;
            z-index: 50;
        }
        @keyframes rain { to { transform: translateY(110vh) rotate(360deg); } }

        /* --- ANIMATION CLASSES --- */
        .cracked-l { transform: rotate(-30deg) translateX(-15px) translateY(10px); }
        .cracked-r { transform: rotate(30deg) translateX(15px) translateY(10px); }
        
        .healing { animation: healAnim 0.8s ease forwards; }
        @keyframes healAnim {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); filter: brightness(1.2); }
            100% { transform: scale(1); }
        }

        .zoom-effect {
            animation: zoomIn 1.5s cubic-bezier(0.7, 0, 0.84, 0) forwards;
        }
        @keyframes zoomIn {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            50% { opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(20); opacity: 0; }
        }

    </style>
</head>
<body>

    <div id="background"></div>

    <div id="main-card">
        <h1 id="question-text">Will you be my valentines?</h1>

        <div class="bear-wrapper" id="bear">
            <div class="ear left fur-color"><div class="inner-ear"></div></div>
            <div class="ear right fur-color"><div class="inner-ear"></div></div>
            
            <div class="head fur-color">
                <div class="eye left"></div><div class="eye right"></div>
                <div class="tear"></div> <div class="blush left"></div><div class="blush right"></div>
                <div class="muzzle">
                    <div class="nose"></div>
                    <div class="mouth"></div>
                </div>
            </div>

            <div class="body fur-color"></div>
            
            <div class="paw hand left fur-color"></div>
            <div class="paw hand right fur-color"></div>
            
            <div class="paw foot left fur-color"><div class="paw-pad"></div></div>
            <div class="paw foot right fur-color"><div class="paw-pad"></div></div>

            <div class="heart-container" id="heart-wrapper">
                <svg class="heart-svg" viewBox="0 0 100 100">
                    <defs>
                        <radialGradient id="gradRed" cx="30%" cy="30%" r="70%">
                            <stop offset="0%" style="stop-color:#ff7675;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#d63031;stop-opacity:1" />
                        </radialGradient>
                        <linearGradient id="gradGold" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#f1c40f;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#f39c12;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <g id="heart-group">
                        <path class="heart-piece" id="h-left" d="M50 85 C 10 95, -10 50, 10 30 C 20 20, 40 20, 50 40 Z" fill="url(#gradRed)" stroke="none"/>
                        <path class="heart-piece" id="h-right" d="M50 85 C 90 95, 110 50, 90 30 C 80 20, 60 20, 50 40 Z" fill="url(#gradRed)" stroke="none"/>
                    </g>
                    <rect x="42" y="35" width="16" height="16" fill="url(#gradGold)" transform="rotate(45 50 43)" rx="2"/>
                    <path d="M35 43 Q 30 30 20 35 L 35 45 Z" fill="#f39c12"/>
                    <path d="M65 43 Q 70 30 80 35 L 65 45 Z" fill="#f39c12"/>
                </svg>
            </div>
        </div>

        <div class="btn-group">
            <button class="btn-yes" id="yesBtn">Yes</button>
            <button class="btn-no" id="noBtn">No</button>
        </div>
    </div>

    <div id="letter-view">
        <div class="letter-paper" id="final-letter">
            <div class="letter-border"></div>
            <div class="letter-content">
                <h2>I Love You ma Cherie</h2>
                <p>Thank you for making my heart whole again. You are my greatest adventure.</p>
                
                <div class="details-box">
                    <strong>üìç Where:</strong> Hinulugang Taktak, Antipolo, Rizal<br>
                    <strong>üìÖ When:</strong> Feb 14, 2026 - Saturday
                </div>

                <svg width="150" height="150" viewBox="0 0 120 120" style="margin: 0 auto; overflow: visible;">
                    <defs>
                        <linearGradient id="t-pink" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#ff9a9e"/><stop offset="1" stop-color="#ff69b4"/></linearGradient>
                        <linearGradient id="t-red" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#ff758c"/><stop offset="1" stop-color="#d63031"/></linearGradient>
                        <linearGradient id="t-yellow" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#fddb92"/><stop offset="1" stop-color="#f1c40f"/></linearGradient>
                        <linearGradient id="t-stem" x1="0" y1="0" x2="0" y2="1"><stop offset="0" stop-color="#a8e063"/><stop offset="1" stop-color="#56ab2f"/></linearGradient>
                    </defs>
                    <g transform="translate(10, 10)">
                        <path d="M50 100 Q 20 80 10 90" stroke="url(#t-stem)" stroke-width="5" fill="none" stroke-linecap="round"/>
                        <path d="M50 100 Q 80 80 90 90" stroke="url(#t-stem)" stroke-width="5" fill="none" stroke-linecap="round"/>
                        
                        <path d="M50 110 Q 50 80 30 60" stroke="url(#t-stem)" stroke-width="4" fill="none"/>
                        <path d="M50 110 Q 50 80 50 50" stroke="url(#t-stem)" stroke-width="4" fill="none"/>
                        <path d="M50 110 Q 50 80 70 60" stroke="url(#t-stem)" stroke-width="4" fill="none"/>
                        
                        <rect x="45" y="100" width="10" height="10" fill="#e74c3c"/>

                        <g transform="translate(30, 60) rotate(-15)"><path d="M-10 0 C -10 15, 10 15, 10 0 L 10 -10 L 0 5 L -10 -10 Z" fill="url(#t-pink)"/></g>
                        <g transform="translate(50, 50)"><path d="M-10 0 C -10 15, 10 15, 10 0 L 10 -10 L 0 5 L -10 -10 Z" fill="url(#t-red)"/></g>
                        <g transform="translate(70, 60) rotate(15)"><path d="M-10 0 C -10 15, 10 15, 10 0 L 10 -10 L 0 5 L -10 -10 Z" fill="url(#t-yellow)"/></g>
                    </g>
                </svg>
            </div>
        </div>
    </div>

    <script>
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const mainCard = document.getElementById('main-card');
        const text = document.getElementById('question-text');
        const bear = document.getElementById('bear');
        const heartLeft = document.getElementById('h-left');
        const heartRight = document.getElementById('h-right');
        const bg = document.getElementById('background');
        const letterView = document.getElementById('letter-view');
        const finalLetter = document.getElementById('final-letter');
        const letterContent = document.querySelector('.letter-content');

        let isCracked = false;
        let rejectionCount = 0;
        const pleas = [
            "Please reconsider ü•∫",
            "But the bear is sad...",
            "Don't break my heart üíî",
            "I'll buy you fries üçü",
            "Are you really sure?",
            "Last chance! üò≠"
        ];

        // LOGIC: NO BUTTON
        noBtn.addEventListener('click', () => {
            isCracked = true;
            rejectionCount++;

            // 1. Crack Heart
            heartLeft.classList.add('cracked-l');
            heartRight.classList.add('cracked-r');
            heartLeft.style.fill = "#555";
            heartRight.style.fill = "#555";

            // 2. Bear Cries
            bear.classList.add('crying');

            // 3. Change Text & BG
            text.innerText = pleas[rejectionCount % pleas.length];
            bg.style.filter = "grayscale(0.8) brightness(0.5)"; // Darken world

            // 4. Grow Yes Button
            let scale = 1 + (rejectionCount * 0.3);
            yesBtn.style.transform = `scale(${scale})`;

            // 5. Rain Broken Hearts
            createBrokenHeart();
        });

        // LOGIC: YES BUTTON
        yesBtn.addEventListener('click', () => {
            if(isCracked) {
                healHeart();
            } else {
                startZoomSequence();
            }
        });

        function healHeart() {
            // Restore Text & BG
            text.innerText = "Yay! Healing... ‚ù§Ô∏è";
            bg.style.filter = "none";
            
            // Restore Heart Visuals
            heartLeft.classList.remove('cracked-l');
            heartRight.classList.remove('cracked-r');
            heartLeft.style.fill = "url(#gradRed)";
            heartRight.style.fill = "url(#gradRed)";
            
            // Stop Crying
            bear.classList.remove('crying');

            // Animation
            const heartWrapper = document.getElementById('heart-wrapper');
            heartWrapper.classList.add('healing');

            // Wait for heal animation then zoom
            setTimeout(() => {
                startZoomSequence();
            }, 1000);
        }

        function startZoomSequence() {
            // Trigger Zoom Animation
            mainCard.classList.add('zoom-effect');
            
            // Switch to Letter View
            setTimeout(() => {
                mainCard.style.display = 'none';
                letterView.style.display = 'flex';
                
                // Animate Letter Opening
                finalLetter.style.width = "340px";
                finalLetter.style.height = "520px";
                
                setTimeout(() => {
                    letterContent.style.opacity = "1";
                    letterContent.style.transform = "translateY(0)";
                    startConfetti();
                }, 800);
            }, 1200);
        }

        function createBrokenHeart() {
            const el = document.createElement('div');
            el.className = 'broken-heart-rain';
            el.innerText = 'üíî';
            el.style.left = Math.random() * 100 + "vw";
            el.style.animationDuration = (Math.random() * 2 + 2) + "s";
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 4000);
        }

        function startConfetti() {
            setInterval(() => {
                const el = document.createElement('div');
                el.className = 'broken-heart-rain';
                el.innerText = '‚ù§Ô∏è'; // Falling love
                el.style.left = Math.random() * 100 + "vw";
                el.style.fontSize = (Math.random() * 20 + 10) + "px";
                el.style.animationDuration = "4s";
                el.style.top = "-50px";
                document.body.appendChild(el);
                setTimeout(() => el.remove(), 4000);
            }, 300);
        }

    </script>
</body>
</html>
